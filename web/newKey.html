<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title id="title">{{ displyName }}</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport"
		content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
	<link rel="stylesheet" href="./layui/css/layui.css">
</head>

<body style="background: #f1f1f1;">
	<ul class="layui-nav">
		<li class="layui-nav-item"><a href="./">Coffee Keys</a></li>
		<li class="layui-nav-item layui-this"><a href="./newKey.html">注册公钥</a></li>
		<li class="layui-nav-item"><a href="./searchKey.html">查找公钥</a></li>
		<li class="layui-nav-item"><a href="./updateInfo.html">修改信息</a></li>
	</ul>

	<fieldset class="layui-elem-field layui-field-title layui-anim layui-anim-up" style="margin-top: 20px;">
		<legend>注册公钥</legend>
	</fieldset>
	<div class="layui-fluid">
		<div class="layui-row layui-col-space15">
			<div class="layui-col-md12">
				<div class="layui-card">
					<div class="layui-card-header">注册公钥</div>
					<div class="layui-card-body">
						<form class="layui-form" lay-filter="form" action="/api/newKey" method="POST">
							<div class="layui-row layui-col-space15">
								<div class="layui-col-md6">
									<div>
										<div class="layui-inline">
											<label class="layui-form-label">
												<i class="layui-icon layui-icon-username">用户名</i>
											</label>
											<div class="layui-input-inline">
												<input type="text" name="name" required placeholder="你的用户名"
													lay-verify="required" class="layui-input">
											</div>
										</div>
										<div class="layui-inline">
											<label class="layui-form-label">
												<i class="layui-icon layui-icon-email">邮箱</i>
											</label>
											<div class="layui-input-inline">
												<input type="text" name="mail" required placeholder="你的邮箱"
													lay-verify="required|email" class="layui-input">
											</div>
										</div>
									</div>
									<div id="checkPassword">
										<div style="margin-top: 15px;">
											<div class="layui-inline">
												<label class="layui-form-label">密码</label>
												<div class="layui-input-inline">
													<input type="password" name="password" required
														lay-verify="required" placeholder="请输入密码" autocomplete="off"
														class="layui-input" v-model="password">
												</div>
											</div>
											<div class="layui-inline">
												<label class="layui-form-label">重复密码</label>
												<div class="layui-input-inline">
													<input type="password" name="repeat-password" id="repeat-password"
														required lay-verify="required" placeholder="请再次输入密码"
														autocomplete="off" class="layui-input"
														v-model="repeat_password">
												</div>
											</div>
											<div class="layui-inline" style="margin-left: 15px;">
												<i v-if="isEqual" class="layui-icon layui-icon-face-smile"></i>
												<i v-else class="layui-icon layui-icon-face-cry"
													style="color: #F44336"></i>
											</div>
										</div>
									</div>
									<div class="layui-form-item">
										<div class="layui-input-block">
											<div class="g-recaptcha" id="recaptcha"
												style="margin-bottom: 15px;margin-top: 15px;"></div>
											<button class="layui-btn" id="submit" lay-submit>提交</button>
										</div>
									</div>
								</div>
								<div class="layui-col-md6">
									<div class="layui-form-item">
										<label class="layui-form-label">公钥</label>
										<div class="layui-input-block">
											<textarea class="layui-textarea" id="pem2text" name="pubkey" id="pubkey"
												required placeholder="在此处粘贴你的公钥 或 读取 PEM 文件"
												lay-verify="required" style="height: 200px;">{{ content }}</textarea>
												<button type="file" class="layui-btn layui-btn-primary" id="pem" style="margin-top: 15px;">
													<i class="layui-icon">&#xe67c;</i>读取 PEM 文件
												</button>
										</div>
									</div>
								</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
	<!-- JS -->
	<script src="./layui/layui.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="./js/recaptcha.js"></script>
	<script src="./js/renderUi.js"></script>
	<script src="https://www.recaptcha.net/recaptcha/api.js?onload=grecaptcha&render=explicit" async defer></script>
	<script src="./js/newKey.js"></script>
</body>

</html>